<!--★☆★☆버스노선★☆★☆-->
<!DOCTYPE html> 
<html> 
    <head>
        
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style2.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="폰트어썸 본인 CDN" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@200&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="style3.css">
        <link rel="stylesheet" href="select_style.css">


        <script src="main.js" defer></script>
        <link rel="shortcut icon" type="image⁄x-icon" href="C:\Users\SAMSUNG\Desktop\버스.png">
        <title>Bus Information System</title>


        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />

        <!--파이썬 css 연동-->
        <link rel="stylesheet" href="{{ url_for('static', filename='css/style2.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/style3.css') }}">



        <title>Bus Information System</title> 

        <style type="text/css"> 
        #map { 
            position: absolute; 
            z-index:-1;
            height: 100%; 
            width: 100%; 
        } 
    </style> 
    <script src="busstop.js"></script>
    <script> 
        function initMap() { 
            const uluru = { lat: 35.14168993986486, lng: 126.93204655554388 }; 
            const map = new google.maps.Map(document.getElementById("map"), { 
                zoom: 14, center: uluru, });

            var marker = new google.maps.Marker({ 
                position: uluru, 
                map: map, 
            }); 


            var markers = [];

            var infowindow = new google.maps.InfoWindow();

             //마커 생성
             for (var i = 0; i < BUS_ROUTE_01.length; i++) {
                var marker = new google.maps.Marker({
                    //map: map,
                    visible: true,
                    position: new google.maps.LatLng(BUS_ROUTE_01[i][4], BUS_ROUTE_01[i][3]),
                });

                markers.push(marker);

                google.maps.event.addListener(marker, 'click', (function (marker, i) {
                    return function () {
                        //html로 표시될 인포 윈도우의 내용
                        infowindow.setContent(BUS_STOP[i][1]);
                        //인포윈도우가 표시될 위치
                        infowindow.open(map, marker);
                    }
                })(marker, i));

                if (marker) {
                    marker.addListener('click', function () {
                        //중심 위치를 클릭된 마커의 위치로 변경
                        map.setCenter(this.getPosition());
                        //마커 클릭 시의 줌 변화
                        map.setZoom(17);
                    });
                }
            }
            google.maps.event.addListener(map, 'zoom_changed', function () {
                var zoom = map.getZoom();
                console.log("현재 zoom level : " + zoom)
                
                    for (var i = 0; i < markers.length; i++) {
                        markers[i].setMap(map);
                    }
                
            });
        }
        
    </script>
        <script type="text/javascript">
            function selectFx(){
                var opt = document.getElementById("textOption");
                var optVal = opt.options[opt.selectedIndex].value;
    
                var result = document.getElementById("bus_n");
                /*if ( optVal == "BUS_ROUTE_01"){
                    for (var i = 0; i < BUS_ROUTE_01.length; i++) {
                        result.value = BUS_ROUTE_01[i][2];
                };*/
                switch(optVal){
                    case "BUS_ROUTE_01":
                        result.value = "";
                        for(var i =0; i< BUS_ROUTE_01.length; i++){
                            result.value = result.value + BUS_ROUTE_01[i][2] + "\n ▼\n";
                        }
                        break;
                    case "BUS_ROUTE_20":
                        result.value = "";
                        for(var i =0; i< BUS_ROUTE_20.length; i++){
                            result.value = result.value + BUS_ROUTE_20[i][2] + "\n ▼\n";
                        }
                        break;
                    case "BUS_ROUTE_60":
                        result.value = "";
                        for(var i =0; i< BUS_ROUTE_60.length; i++){
                            result.value = result.value + BUS_ROUTE_60[i][2] + "\n ▼\n";
                        }
                        break;
                    case "BUS_ROUTE_125":
                        result.value = "";
                        for(var i =0; i< BUS_ROUTE_125.length; i++){
                            result.value = result.value + BUS_ROUTE_125[i][2] + "\n ▼\n";
                        }
                        break;
                    case "BUS_ROUTE_05":
                        result.value = "";
                        for(var i =0; i< BUS_ROUTE_05.length; i++){
                            result.value = result.value + BUS_ROUTE_05[i][2] + "\n ▼\n";
                        }
                        break;
                    case "BUS_ROUTE_08":
                        result.value = "";
                        for(var i =0; i< BUS_ROUTE_08.length; i++){
                            result.value = result.value + BUS_ROUTE_08[i][2] + "\n ▼\n";
                        }
                        break;
                    case "BUS_ROUTE_12":
                        result.value = "";
                        for(var i =0; i< BUS_ROUTE_12.length; i++){
                            result.value = result.value + BUS_ROUTE_12[i][2] + "\n ▼\n";
                        }
                        break;

                    default:
                        break;
                }

                }
            
        </script>
    
    
</head> 
<body style="background-color: #d7e1ec;">
    <nav class="navbar">
        <div class="navbar__logo">
                <!--i class="fab fa-amazon"></i-->
                <i class="fa fa-bus"></i>
                <a href="#" onClick="location.href='practice.html'" >BIS</a>
        </div>
        <ul class="navbar__menu" >
                <li><a href="#">버스노선</a></li>
                <li><a href="#">정류소명</a></li>
                <li><a href="#">출도착안내</a></li>
                <li><a href="#">이용안내</a></li>
        </ul>
        <!--ul class="navbar__sns">
                <li><a href="#"><i class="fab fa-twitter"></i></a></li>
                <li><a href="#"><i class="fab fa-facebook-f"></i></a></li>
        </ul-->
        <div class="menu">
            <input type="text" placeholder="Search..." class="input_text">
            <button class="fa fa-search" ></button>
        </div>
        <a href="#" class="navbar__toggleBtn"> <i class="fas fa-bars"></i> </a>
</nav>

    

    <select id="textOption" onchange="selectFx()"> 
        <option selected >BUS</option> 
        <option value="BUS_ROUTE_01">순환01A</option> 
        <option value="BUS_ROUTE_20">일곡38</option> 
        <option value="BUS_ROUTE_60">임곡90</option> 
        <option value="BUS_ROUTE_125">선운101</option> 
        <option value="BUS_ROUTE_05">첨단09</option> 
        <option value="BUS_ROUTE_08">진월17</option> 
        <option value="BUS_ROUTE_12">지원25</option> 
    </select>

    <textarea name="bus_n" id="bus_n" cols="38" rows="25" style=" margin-top: 60px; margin-left: 0px; position: absolute; z-index:0; border: 3px solid #000a12;" ></textarea>


    <!--h3>My Google Maps Demo</h3--> 
    <div id="map"  ></div> 

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC0SZqnzFTUJ0pDDItOSAXHs4ZgQC6M69I&callback=initMap"async ></script>

    </body> 
</html>



